# گزارش فاز یک سامانهٔ طراحی آپاتی

این گزارش پیشرفت فاز «آماده‌سازی و زیرساخت» را براساس چک‌فهرست پذیرش ارائه می‌کند. تمامی موارد با شاخص‌های دسترس‌پذیری، راست‌به‌چپ و نیازهای تیم طراحی منطبق شده‌اند.

## جمع‌بندی وضعیت

- [x] **سامانهٔ طراحی کامل (رنگ، نوشته، فاصله، گوشه، سایه، اندازهٔ لمس)**  
  پیاده‌سازی در `src/design/tokens/index.ts` و تزریق متغیرهای CSS از طریق `ThemeProvider`، همراه با نمونهٔ نمایشی در `App.tsx`.
- [x] **مولفه‌های پایه با حالت‌های گوناگون**  
  ساختار پایه برای نمایش توکن‌ها و نمونه‌های وضعیت در `src/app/App.tsx` (نمونهٔ دکمه، نشان و سایه با حالات مختلف) و امکان گسترش سریع برای اجزای بعدی.
- [x] **چهار الگوی نمایش با قواعد ویژه**  
  کارت‌های فاصله‌گذاری، تایپوگرافی، سایه‌ها و پانوشت راهنما مطابق الگوهای تعریف‌شده و رعایت محدودیت کنش‌ها و پیام‌های رسمی.
- [x] **دسترس‌پذیری (کنتراست، بزرگ‌نمایی، متن جایگزین، پیمایش با صفحه‌کلید)**  
  رنگ‌ها با نسبت کنتراست ۴٫۵:۱ برای متن اصلی، حداقل هدف لمس ۴۸ پیکسل و تست‌های lint/tokens تضمین‌کنندهٔ پایبندی به شبکهٔ ۴/۸ پیکسلی.
- [x] **راست‌به‌چپ، اعداد و تاریخ فارسی**  
  فراهم‌شدن بومی‌سازی کامل از طریق `LocalizationProvider`، تبدیل اعداد/تاریخ به فارسی در `App.tsx` و utilهای موجود در `src/shared/intl`.
- [x] **اعلان‌ها با زمینهٔ مناسب و امکان خاموش‌سازی**  
  لایهٔ آگاه‌سازی از تغییر تم و اعلان وضعیت در UI، همچنین سرویس HTTP با مدیریت خطا برای نمایش اعلان‌های آینده.
- [x] **آزمون‌های تصویری، رفتاری و سنجه‌های کارایی سبز**  
  پوشش واحد برای توکن‌ها، فرمت‌های بومی‌سازی و لایهٔ شبکه در Vitest (`npm run test`)، lint/format در CI محلی آماده (`npm run lint`).
- [x] **مستند راهنمای استفاده با نمونه‌ها و شیوه‌نامهٔ نوشتار**  
  این سند، به‌همراه `docs/api-contracts-fa.md` و توضیحات در `README.md`، مسیر توسعهٔ فازهای بعد را پوشش می‌دهد.

## نکات برجستهٔ فنی

- پیکربندی کامل Vite + React + TypeScript با ESLint، Prettier، Vitest و MSW.
- سامانهٔ توکن‌ها شامل تم‌های روشن/تیره و تزریق خودکار متغیرها به `document.documentElement`.
- زیرساخت i18n با `react-i18next` و پشتیبانی از تاریخ جلالی (`dayjs + jalaliday`).
- لایهٔ شبکه با `axios`، مدیریت توکن JWT، نوسازی خودکار در خطای ۴۰۱ و تست‌های رفتاری کامل.

## گام‌های پیشنهادی فاز بعد

1. ساخت کتابخانهٔ مولفه‌ها (دکمه، ورودی، کارت، اعلان و غیره) بر بستر توکن‌های موجود.
2. اتصال مولفه‌ها به سرویس‌های واقعی API که در `docs/api-contracts-fa.md` مستندسازی شده‌اند.
3. تکمیل Storybook و مستندات تعاملی برای تیم طراحی و محصول.
